---
title: "Forecasting the 2024 US Presidential Election"
author: 
  - Tianning He
  - Julia Lee
  - Shuangyuan Yang
thanks: "Code and data are available at: https://github.com/JuliaJLee/Forecasting_US_Election_2024.git"
date: today
date-format: long
format: pdf
number-sections: true
bibliography: references.bib
---

```{r}
#| include: false
#| warning: false
#| message: false

library(tidyverse)
library(tinytex)
library(knitr)
library(ggplot2)
library(dplyr)
library(arrow)
library(here)
```

# Introduction

*A paragraph for the broader context and motivation for the analysis + the gap that we want to address*

*A paragraph for that details what the analysis aims to do (i.e. its objective) + how*

*A paragraph for what was found and why findings are important (i.e. their implications)*

*A paragraph for setting up the rest of the paper*

# Data {#sec-data}

## Presidential General Election Polls Data

*A detailed description of the poll data (e.g. what the data shows, its variables, the date in which the data was downloaded + tables/graphs showing what the data looks like)*

To simulate, test, download, and clean the Presidential General Election Polls data, the statistical programming language R was used [@citeR]. Specific libraries that assisted the analysis include `tidyverse` [@tidyverse], `dplyr` [@dplyr],`tinytex` [@tinytex], `ggplot2` [@ggplot2], and `knitr` [@knitr]. 

(**pollster methodology and idealized methodology sections can be found in the Appendix - @sec-appendix**)

## Analysis Data 

*A detailed description of the clean poll data that was used within the analysis (e.g. what the data shows, why certain variables were chosen + tables/graphs showing what the data looks like)*

## An Account on Measurement

*A investigation into how voters' opinions or stances were translated into percentage of votes (i.e. a value) within the data*

# Model 

The objective of the present analysis is to forecast the percentage of support both presidential candidates, Kamala Harris and Donald Trump, will receive in the final week (October 27, 2024 to November 2, 2024) leading up to the election. The Presidential Poll data provided by 538 (CITE) reflects voters’ opinions and preferences about who should be the next President of the United States across time. As those opinions or preferences are subject to change as time goes on, this model seeks to account for this variability by building “seasonal indexes” and using them with a linear model to forecast the percentage of support for both presidential candidates.

In this model, a “season” is referred to as a 7-day week that is found between Sunday August 4, 2024 and Saturday October 26, 2024. The start date is August 4, 2024 because this date allows there to be enough data to observe the percentage of support for both candidates over several weeks. The end date is October 26, 2024 as this leaves roughly a week (October 27, 2024 to November 2, 2024) before the election on Tuesday November 5, 2024 to ensure that a forecast for this final week can be made. 

Further, this model considers the following variables: 

* **Pollsters with a numeric grade of 2.7 and above**: This model uses a cut-off of 2.7 for the numeric grade to strike a balance between the amount of data and the quality of the data. The design of this model requires that there is at least one poll that was conducted in each “season” or week, and this could not have been satisfied if only pollsters with a numeric grade of 3 are considered. A numeric grade of 2.7 and above allows this model to have sufficient data as well as data of high quality. 
* **The likely voter (lv) population**: Likely voters are defined as voters who show strong intentions to vote on election day (CITE). With this, the model focuses on this particular voter population to generate a forecast that more closely resembles election day.
* **States**: This model looks at polls that were state-specific rather than national polls. Though each state is not considered individually in this analysis, this model considers these state-specific polls as they also allow for sufficient data to be used within the model.
* **Sample Size**: Poll sample size is used within the model to pool the poll data for each week within the time period defined by the model above. 
* **Polls that did not ask about hypothetical match-ups**: As this model aims to forecast and compare support for the presidential candidates in the current 2024 election, hypothetical match-ups are not considered.
* **Presidential Candidates**: This model looks at the percentage of support for both Kamala Harris and Donald Trump throughout the analysis. 
* **Poll Start and End Dates**: Start and end dates are important variables in the model as they are used to categorize poll data into the different “seasons” or weeks between August 4, 2024 and October 26, 2024. 
* **Percentage of Support (pct)**: This is the target variable to be estimated by the model.  

## Model Process 

*Code that runs through the following steps can be found in the repository linked on page 1.*

### Organize Poll Data for each Candidate by Week 

For this model, a total of 12 weeks of poll data is analyzed. The exact start and end dates of each week (defined by the model) can be found below in @tbl-weeks. Every four weeks corresponds to a month. The first four weeks are in August 2024, the next four weeks are in September 2024, and the last four weeks are in October 2024. 

```{r}
#| echo: false
#| message: false
#| label: tbl-weeks
#| tbl-cap: "Weeks Defined by the Model" 

values <- tibble(
  week_number = c(1:12), 
  week_dates = c("Aug. 4-10", "Aug. 11-17", "Aug. 18-24", "Aug. 25-31", "Sept. 1-7", "Sept. 8-14",
            "Sept. 15-21", "Sept. 22-28", "Sept. 29 - Oct. 5", "Oct. 6-12", "Oct. 13-19", "Oct. 20-26")
)

kable(values,
  col.names = c("Week", "Dates"),
    digits = 1,
    booktabs = TRUE,
    linesep = "",
    align = c("c", "c"),
    format.args = list(big.mark = ",")
  )

```


Using the start and end dates of the polls, the model first filters on the polls that were conducted between August 4, 2024 and October 26, 2024 for each candidate. Then, it assigns each poll to a week as outlined in @tbl-weeks. An example outcome is shown below for Kamala Harris (@tbl-organizingbyweek).

```{r}
#| echo: false
#| message: false
#| label: tbl-organizingbyweek
#| tbl-cap: "Poll Data Organized by Week For Harris" 

#### Organizing poll data by week ####

# Read in the cleaned analysis data

model_data <- read_parquet(here::here("data/02-analysis_data/analysis_data.parquet"))

#view(model_data)

# Change the format of both start and end dates

changed_dates <- model_data |>
  mutate(
    start_date = mdy(start_date),
    end_date = mdy(end_date)
  )

#view(changed_dates)

# Sort the data by end date in ascending order

sorted <- changed_dates[order(changed_dates$end_date),]

#view(sorted)

# Remove the polls from 2022 and 2023

only_2024 <- sorted[-c(1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14), ]

#view(only_2024)

# Keep polls that ended in Aug. 6 until Oct. 26, 2024

august_start <- only_2024[-(1:14),]

#view(august_start)

aug_to_oct <- august_start[-(481:630),]

#view(aug_to_oct)

# Remove pollster, numeric_grade, state, population, and hypothetical columns 
# and filter on HARRIS

columns_to_keep <- c("start_date", "end_date", "sample_size", "candidate_name", "pct")

simplified_data = aug_to_oct[columns_to_keep]

simplified_data_harris <- simplified_data |>
  filter(
    candidate_name == "Kamala Harris")

#view(simplified_data_harris)

# Organize HARRIS data by week
## The following code (lines 99-101) was provided by a Stack Overflow answer 
## (link: https://stackoverflow.com/questions/40581705/group-dates-by-week-in-r)

harris_by_week <- simplified_data_harris %>% 
  mutate(week = cut.Date(end_date, breaks = "1 week", labels = FALSE)) %>% 
  arrange(end_date)

harris_by_week <- harris_by_week[,-c(1,2)]

#view(harris_by_week)

harris_by_week |>
  slice(1:6) |>
  kable(
    col.names = c("Sample Size", "Candidate", "Percentage of Support (pct)", "Week"),
    digits = 1,
    booktabs = TRUE,
    linesep = "",
    align = c("c", "c", "c", "c"),
    format.args = list(big.mark = ",")
  )

```


Each row in the outcome above (@tbl-organizingbyweek) represents a poll, and the “Week” column indicates the week in which that poll occurred. For example, the first four rows show polls that were conducted in the week of August 4 to 10, 2024. The last two rows show polls that occurred between August 11 to 17, 2024 (i.e. Week 2). Each poll’s sample size and pct estimate are also included.


# Results {#sec-results}

## Change in Percentage of Votes over time across Pollsters 

This initial analysis aims to see how the percentage of votes for the Democratic Presidential candidate, Harris, has changed over time for various high-quality pollsters. (*a better, more detailed description will be added*)



\newpage


# Discussion {#sec-discussion}

## Summary

*A paragraph that summarizes what was done in the analysis and a brief overview of the main findings*

## Implications

*A paragraph about what the main findings imply about the election - why they are relevant*

## Limitations

*A paragraph about the limitations of the model - shortcomings due to the decisions that were made in the model*

## Future Directions

*A paragraph about what can be done in the future*

\newpage

\appendix

# Appendix {#sec-appendix}

## Pollster Methodology 

We selected YouGov, a polling organization, and discussed its survey methodology and its main features, strengths, and weaknesses. From the data obtained, the population of YouGov surveys is American voters, especially citizens who are eligible to vote. YouGov's framework is usually participants who voluntarily register and participate in surveys regularly. These panel members express their opinions in the form of online questionnaires. The sample is a part of YouGov's online panel. In the data, we see some specific stratification information, such as political parties (DEM, REP, etc.), which indicates that YouGov may use stratified sampling to ensure the diversity of the sample.
YouGov's sample is recruited through a voluntary online panel. Users can actively register to become panel members and accept survey invitations at any time. This recruitment method is non-random, but the cost is relatively low and the number of people is large.

YouGov uses stratified sampling, which stratifies respondents according to demographic variables, such as age, gender, political party, etc., to ensure that each subgroup in the sample is fully represented. Stratified sampling can ensure that different groups (such as party supporters, different age groups, etc.) are properly represented, avoid a single group dominating, improve estimation accuracy, and reduce sampling errors. However, if the stratification criteria are not properly chosen or there are large individual differences within the strata, stratified sampling may increase sampling errors. It may be more time-consuming to design and implement than simple random sampling, and more resources are required to determine the stratification and sampling scheme, especially when the population size is large.

YouGov uses weighting to adjust when dealing with non-response issues. When some people do not respond or the response rate of certain groups is low, YouGov will weight the responses of these groups according to demographic data to ensure that the final survey results can more accurately reflect the overall situation. This can help correct the bias caused by the low response rate of certain groups and make the results more representative.
YouGov's questionnaire is answered online, which can quickly obtain a large amount of data, and the population (people who answer the questionnaire) is distributed in various places, which improves flexibility and efficiency. The questionnaire also covers a variety of candidates and political parties, and distinguishes the support rates of different political parties. The content of the questionnaire can be changed according to different groups to ensure that the survey questions are relevant to the background of the respondents. At the same time, there are some potential problems with the questionnaire. First, since the questionnaire is answered online, some people may not answer the questionnaire seriously, which may affect the accuracy of the questionnaire. Secondly, since it is voluntary to participate in the questionnaire, some groups may be under-represented or over-represented, which will also lead to biased survey results.

## Idealized Pollster Methodology

Survey Form Link: https://forms.gle/S4cyiZNej46zfxq29

### Introduction
In this appendix, I present a detailed survey methodology designed to predict the outcome of the upcoming U.S. presidential election. The design leverages a $100K budget and focuses on achieving a representative, accurate, and methodologically robust sample. The survey will use mixed-mode recruitment (in person, phone, online, and SMS), with a sample size of 3,000 respondents. Detailed weighting adjustments and validation strategies will ensure the integrity of the data, while aggregation with other polls will provide a more accurate forecast.

### Sampling Approach
#### Target Population
The survey targets the U.S. voting-age population, defined as U.S. citizens aged 18 and older. The target population includes both already voted voters and those who plan to vote.

#### Sample Size and Confidence
As for sample size, a total of 3,000 respondents will be surveyed. This provides a margin of error of ±2% at a 95% confidence level, ensuring reliable predictions at the national level. 
As for the confidence, the larger the sample size, the smaller the margin of error. Given the $100K budget, this is an optimal balance between cost and statistical reliability.

#### Stratified Sampling Approach
To ensure representatives, the sample will be stratified across key demographic factors like their age group, gender, race, education level, job type, income level, house situation, political party, living state and so on. Specifically, for those Swing states (such as Nevada, Arizona, Wisconsin, Michigan, Pennsylvania, North Carolina, and Georgia) will be over-sampled to ensure an accurate prediction in these battleground regions, where small shifts in voter behavior can heavily influence the election outcome. For example, instead of targeting only 8% of the sample in swing states (proportional to the population), we might over-sample to 20%.

#### Bias
Firstly, relying too much on online survey may skew results towards who are younger and more internet-savvy respondents. To solve this, a portion of the budget will be dedicated to reaching older and rural voters via phone surveys and in person survey. Besides, We will solve non-response bias by offering incentives. 

### Recruitment Strategy
#### Mixed-Mode Recruitment
The recruitment strategy uses a mix of recruitment channels to ensure diverse participation across demographic groups.

1. Phone Recruitment (Random Digit Dialing - RDD) or in person survey:
Budget: $30,000
Goal: Target older voters, particularly those 65+ and rural populations, who are less likely to respond to online surveys.
Method: RDD will include both land-lines and mobile numbers to maximize reach, especially among older voters.
Response Rate: Assuming a 10-15% response rate, we expect to recruit around 1,000 respondents via phone interviews.

2. Online Panel Recruitment:
Budget: $40,000
Goal: Capture younger, more tech-savvy respondents (ages 18-44) and urban populations who are more likely to participate in online surveys.
Method: Use reputable online panels such as YouGov or Ipsos. These panels provide access to a large pool of respondents pre-screened for voter eligibility.
Response Rate: With a budget of $20,000, we expect to recruit about 1,500 respondents from these panels.

3. Text-to-Web Invitations (SMS Surveys):
Budget: $15,000
Goal: Reach respondents through mobile-friendly surveys, targeting younger voters (18-34) and those who prefer mobile interaction.
Method: Send SMS invitations with a link to the online survey (via Google Forms), targeting respondents in both urban and rural areas.
Response Rate: We expect to recruit 500 respondents via SMS links.

#### Incentives for Participation
To improve response rates, we will offer $5 digital gift cards as an incentive to complete the survey.
Budget: $15,000 for approximately 3,000 respondents.
This will particularly help increase participation among hard-to-reach groups, such as low-income individuals and rural populations.

### Data Validation
#### Weighting Adjustments
Post-stratification weighting will be used to adjust the sample to reflect the actual U.S. voting population. This ensures that underrepresented groups (e.g., younger voters, minorities) are appropriately represented in the final analysis. Weights will be calculated based on age, race, gender, education, and some other factors by using Census data as a benchmark.

#### Screening Questions
The survey will include key screening questions to ensure eligibility:

"Are you a U.S. citizen eligible to vote in the ongoing U.S. presidential election?"
"Are you at least 18 years old, making you eligible to vote in the ongoing U.S. presidential election?"
"Have you already voted in the 2024 U.S. presidential election?"
Respondents who do not meet these criteria will be excluded from the analysis.

#### Fraud Detection
To ensure high-quality responses:

1. Consistency Checks: Use validation questions to ensure the consistency of answers. For example, responses on party affiliation and voting intention will be cross-checked to identify inconsistencies.
2. Re-contacting: Randomly re-contact a subset of respondents to verify their initial responses.

\newpage


# References